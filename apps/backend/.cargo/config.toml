# Cargo Configuration for Symphony Backend
# Optimizes build performance and development workflow

[env]
PYTHON = "python"

# Build settings
[build]
# Use all available CPU cores for parallel compilation
jobs = -1
# Incremental compilation for faster rebuilds
incremental = true
# Use pipelined compilation
pipelining = true

## Target-specific settings
#[target.x86_64-pc-windows-msvc]
## Link-time optimization
#linker = "lld-link"
#rustflags = ["-C", "link-arg=-fuse-ld=lld"]
#
#[target.x86_64-unknown-linux-gnu]
#linker = "clang"
#rustflags = ["-C", "link-arg=-fuse-ld=lld"]
#
#[target.x86_64-apple-darwin]
#rustflags = ["-C", "link-arg=-fuse-ld=lld"]

# Alias for common commands
[alias]
# Quick check without building
c = "check --all-features"
# Build with all features
b = "build --all-features"
# Test with all features
t = "test --all-features"
# Run clippy with strict settings
l = "clippy --all-features --all-targets -- -D warnings"
# Format all code
f = "fmt --all"
# Build documentation
d = "doc --all-features --no-deps --open"
# Run benchmarks
bench = "bench --all-features"
# Check for outdated dependencies
outdated = "outdated --workspace"
# Audit dependencies for security issues
audit = "audit"
# Clean and rebuild
rebuild = "clean && build --all-features"

# Registry settings
[registry]
default = "crates-io"

# Network settings
[net]
retry = 3
git-fetch-with-cli = true

# Term settings
[term]
verbose = false
color = "auto"