use sylogging::{LogConfig, init_logging};
use tracing::{info, error, warn, debug};

fn main() {
    // 1. ุชููุฆุฉ ูุธุงู ุงูุชุณุฌูู
    let config = LogConfig::from_env();
    let _guard = init_logging(&config);

    // 2. ุฃูุซูุฉ ุนูู ุงุณุชุฎุฏุงู ูุณุชููุงุช ุงูุชุณุฌูู ุงููุฎุชููุฉ
    info!("๐ ุจุฏุก ุชุทุจูู ุงูุชุณุฌูู");
    debug!("ูุฐู ุฑุณุงูุฉ ุชุตุญูุญ");
    warn!("ูุฐุง ุชุญุฐูุฑ");
    error!("ูุฐุง ุฎุทุฃ");

    // 3. ุชุณุฌูู ุฑุณุงูุฉ ูุน ุณูุงู ุฅุถุงูู
    info!(
        user_id = "user123",
        request_id = "req_456",
        "ุชู ุชูููุฐ ุงูุนูููุฉ ุจูุฌุงุญ"
    );

    // 4. ูุซุงู ุนูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
    match perform_operation() {
        Ok(_) => info!("ุชู ุชูููุฐ ุงูุนูููุฉ ุจูุฌุงุญ"),
        Err(e) => error!("ูุดูุช ุงูุนูููุฉ: {}", e),
    }

    println!("\nโ ุงูุชูู ุงูุชุดุบูู ุจูุฌุงุญ! ููููู ุฑุคูุฉ ุงูุณุฌูุงุช ูู ูุญุฏุฉ ุงูุชุญูู ุฃู ุงูููู ุงููุญุฏุฏ");
}

fn perform_operation() -> Result<(), String> {
    // ูุญุงูุงุฉ ุนูููุฉ ูุฏ ุชูุดู
    if std::env::var("DEBUG").is_ok() {
        debug!("ูุถุน ุงูุชุตุญูุญ ููุนู");
        return Ok(());
    }
    
    // ุฅุฑุฌุงุน ุฎุทุฃ ููุชูุถูุญ
    Err("ุญุฏุซ ุฎุทุฃ ูุง".to_string())
}
